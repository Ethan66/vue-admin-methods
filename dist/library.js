!function(g,I){"object"==typeof exports&&"object"==typeof module?module.exports=I():"function"==typeof define&&define.amd?define([],I):"object"==typeof exports?exports.handleBasicObj=I():g.handleBasicObj=I()}(window,(function(){return function(g){var I={};function A(C){if(I[C])return I[C].exports;var n=I[C]={i:C,l:!1,exports:{}};return g[C].call(n.exports,n,n.exports,A),n.l=!0,n.exports}return A.m=g,A.c=I,A.d=function(g,I,C){A.o(g,I)||Object.defineProperty(g,I,{enumerable:!0,get:C})},A.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},A.t=function(g,I){if(1&I&&(g=A(g)),8&I)return g;if(4&I&&"object"==typeof g&&g&&g.__esModule)return g;var C=Object.create(null);if(A.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:g}),2&I&&"string"!=typeof g)for(var n in g)A.d(C,n,function(I){return g[I]}.bind(null,n));return C},A.n=function(g){var I=g&&g.__esModule?function(){return g.default}:function(){return g};return A.d(I,"a",I),I},A.o=function(g,I){return Object.prototype.hasOwnProperty.call(g,I)},A.p="",A(A.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/basicObj.ts\nvar handleBasicObj = function (_a) {\r\n    var defaultDialogBtn = _a.defaultDialogBtn;\r\n    var InitObj = /** @class */ (function () {\r\n        function InitObj(options) {\r\n            var _this = this;\r\n            var modules = Object.keys(options.items);\r\n            // if (options.modules === 'All') {\r\n            //   this.modules = ['search', 'table', 'dialog']\r\n            // } else if (typeof options.modules === 'string') {\r\n            //   this.modules = [].concat(options.modules)\r\n            // } else {\r\n            //   this.modules = options.modules\r\n            // }\r\n            modules.forEach(function (module) {\r\n                switch (module) {\r\n                    case 'search':\r\n                        _this.initSearchObj();\r\n                        break;\r\n                    case 'table':\r\n                        // this.initTableObj(options.btnConfig.tableBtn)\r\n                        _this.initTableObj();\r\n                        break;\r\n                    case 'dialog':\r\n                        _this.initDialogObj(options.btnConfig && options.btnConfig.dialogBtn);\r\n                }\r\n            });\r\n            this.initItem(options.items, modules);\r\n            options.rules && (this.rules = options.rules);\r\n            return this;\r\n        }\r\n        InitObj.prototype.initSearchObj = function () {\r\n            this.searchItem = [];\r\n            this.searchValues = {};\r\n        };\r\n        InitObj.prototype.initTableObj = function (tableBtn) {\r\n            if (tableBtn === void 0) { tableBtn = ['edit', 'delete']; }\r\n            this.allData = [];\r\n            this.tableData = [];\r\n            this.tableItem = [];\r\n            this.tableLoading = true;\r\n            this.isEdit = 0;\r\n            // this.tableBtn = []\r\n            this.tablePages = { total: 0, current: 1, pageSize: 20 };\r\n            this.chooseDataArr = [];\r\n            // this.setBtn(tableBtn, 'tableBtn')\r\n        };\r\n        InitObj.prototype.initDialogObj = function (dialogBtn) {\r\n            if (dialogBtn === void 0) { dialogBtn = ['cancel', 'confirm']; }\r\n            this.editData = {};\r\n            this.dialogTitle = '';\r\n            this.dialogItem = [];\r\n            this.dialogBtn = [];\r\n            this.showDialogForm = false;\r\n            this.rules = {};\r\n            this.setBtn(dialogBtn, 'dialogBtn');\r\n        };\r\n        InitObj.prototype.setBtn = function (config, type) {\r\n            var _this = this;\r\n            var userBtnList = JSON.parse(sessionStorage.getItem('btnList'));\r\n            if (!Array.isArray(config)) {\r\n                console.error('传参必须为数组');\r\n                return false;\r\n            }\r\n            var basicConfig = defaultDialogBtn;\r\n            config.forEach(function (key) {\r\n                if (typeof key === 'string') {\r\n                    if (!basicConfig[key]) {\r\n                        console.error(\"\\u8BF7\\u786E\\u8BA4\" + type + \"\\u662F\\u5426\\u914D\\u7F6E\\u4E86\" + key + \"\\u5C5E\\u6027\");\r\n                        return false;\r\n                    }\r\n                    _this[type].push(basicConfig[key]);\r\n                }\r\n                else if (key.constructor === Object) {\r\n                    var arr = Object.entries(key)[0];\r\n                    if (arr[1].constructor !== Object) {\r\n                        console.error('数组里的对象的value值必须为对象');\r\n                        return false;\r\n                    }\r\n                    var config_1 = Object.assign({}, basicConfig[arr[0]], arr[1]);\r\n                    if (config_1.code) {\r\n                        if (arr[1].show === undefined) {\r\n                            config_1.show = _this.authBtn(config_1.code, userBtnList, 'show');\r\n                        }\r\n                        config_1.name = _this.authBtn(config_1.code, userBtnList);\r\n                    }\r\n                    _this[type].push(config_1);\r\n                }\r\n                else {\r\n                    console.error('数组里的数据必须是字符串或对象');\r\n                }\r\n            });\r\n        };\r\n        InitObj.prototype.initItem = function (items, modules) {\r\n            var _this = this;\r\n            var basicConfig = {\r\n                search: { label: '', key: '', type: 'input', placeholder: '', show: true },\r\n                table: { label: '', prop: '', type: 'cell', width: 80 },\r\n                dialog: { label: '', key: '', type: 'text', show: true }\r\n            };\r\n            var listeners = ['click', 'change', 'input', 'focus', 'blur'];\r\n            var externalKeys = ['key', 'show', 'type', 'label', 'options'];\r\n            var placeholderList = ['input', 'number', 'password', 'textarea'];\r\n            modules.forEach(function (module) {\r\n                var configObj = items[module];\r\n                var keys = Object.keys(configObj);\r\n                var result = [];\r\n                keys.forEach(function (key) {\r\n                    var obj = configObj[key] = Object.assign({}, basicConfig[module], configObj[key]);\r\n                    if (module === 'table') {\r\n                        if (key === 'btn') {\r\n                            obj.type = 'btn';\r\n                            !obj.label && (obj.label = '操作');\r\n                            !obj.fixed && (obj.fixed = 'right');\r\n                        }\r\n                        else if (key === 'selection') {\r\n                            obj.type = 'selection';\r\n                            obj.width = 50;\r\n                        }\r\n                        else {\r\n                            obj.prop = key;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (module === 'search' && configObj[key].key) {\r\n                            obj.key = configObj[key].key;\r\n                        }\r\n                        else {\r\n                            obj.key = key;\r\n                        }\r\n                        var prefix = placeholderList.includes(obj.type) ? '请输入' : '请选择';\r\n                        obj.placeholder = \"\" + prefix + obj.label;\r\n                    }\r\n                    if (module === 'search' || module === 'dialog') {\r\n                        var tmp_1 = {};\r\n                        externalKeys.forEach(function (str) {\r\n                            obj[str] !== undefined && (tmp_1[str] = obj[str]);\r\n                            delete obj[str];\r\n                        });\r\n                        var tmpStrs_1 = Object.keys(obj);\r\n                        listeners.forEach(function (str) {\r\n                            var _a;\r\n                            if (tmpStrs_1.includes(str)) {\r\n                                tmp_1['$on'] ? tmp_1['$on'][str] = obj[str] : tmp_1['$on'] = (_a = {}, _a[str] = obj[str], _a);\r\n                                delete obj[str];\r\n                            }\r\n                        });\r\n                        Object.keys(obj) && (tmp_1['$attr'] = obj);\r\n                        obj = tmp_1;\r\n                    }\r\n                    result.push(obj);\r\n                });\r\n                _this[module + \"Item\"] = result;\r\n            });\r\n        };\r\n        // 表格数据转换\r\n        InitObj.prototype.formmater = function (config) {\r\n            return function (val) {\r\n                if (config.constructor === Array && !(Number(val) === 0 || Number(val))) {\r\n                    throw new Error('当config为Array时，val必须为Number');\r\n                }\r\n                return config[val];\r\n            };\r\n        };\r\n        // 根据btnCode获取按钮权限和名字\r\n        InitObj.prototype.authBtn = function (btnCode, userBtnList, type) {\r\n            // let userBtnList: { btnCode: string, btnName: string }[] = []\r\n            // userBtnList.length === 0 && (userBtnList = JSON.parse(sessionStorage.getItem('btnList')))\r\n            if (!userBtnList) {\r\n                throw new Error('btn权限需要存储在sessionStorage');\r\n            }\r\n            // if (window.btnList) { // 刷新页面的window.btnList保存的是最新的按钮权限\r\n            //   this.userBtnList = window.btnList\r\n            //   window.btnList = undefined\r\n            // }\r\n            var obj = userBtnList.find(function (item) { return item.btnCode === btnCode; });\r\n            if (obj) {\r\n                if (type) {\r\n                    return true;\r\n                }\r\n                else {\r\n                    return obj.btnName;\r\n                }\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        };\r\n        return InitObj;\r\n    }());\r\n    return InitObj;\r\n};\r\n/* harmony default export */ var basicObj = (handleBasicObj);\r\n\n// CONCATENATED MODULE: ./src/index.js\n\n/* harmony default export */ var src = __webpack_exports__[\"default\"] = (basicObj);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2hhbmRsZUJhc2ljT2JqLy4vc3JjL2Jhc2ljT2JqLnRzPzM1OTciLCJ3ZWJwYWNrOi8vaGFuZGxlQmFzaWNPYmovLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaGFuZGxlQmFzaWNPYmogPSBmdW5jdGlvbiAoX2EpIHtcclxuICAgIHZhciBkZWZhdWx0RGlhbG9nQnRuID0gX2EuZGVmYXVsdERpYWxvZ0J0bjtcclxuICAgIHZhciBJbml0T2JqID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIEluaXRPYmoob3B0aW9ucykge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgbW9kdWxlcyA9IE9iamVjdC5rZXlzKG9wdGlvbnMuaXRlbXMpO1xyXG4gICAgICAgICAgICAvLyBpZiAob3B0aW9ucy5tb2R1bGVzID09PSAnQWxsJykge1xyXG4gICAgICAgICAgICAvLyAgIHRoaXMubW9kdWxlcyA9IFsnc2VhcmNoJywgJ3RhYmxlJywgJ2RpYWxvZyddXHJcbiAgICAgICAgICAgIC8vIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMubW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgLy8gICB0aGlzLm1vZHVsZXMgPSBbXS5jb25jYXQob3B0aW9ucy5tb2R1bGVzKVxyXG4gICAgICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAgIHRoaXMubW9kdWxlcyA9IG9wdGlvbnMubW9kdWxlc1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIG1vZHVsZXMuZm9yRWFjaChmdW5jdGlvbiAobW9kdWxlKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG1vZHVsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NlYXJjaCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmluaXRTZWFyY2hPYmooKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndGFibGUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmluaXRUYWJsZU9iaihvcHRpb25zLmJ0bkNvbmZpZy50YWJsZUJ0bilcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaW5pdFRhYmxlT2JqKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RpYWxvZyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmluaXREaWFsb2dPYmoob3B0aW9ucy5idG5Db25maWcgJiYgb3B0aW9ucy5idG5Db25maWcuZGlhbG9nQnRuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdEl0ZW0ob3B0aW9ucy5pdGVtcywgbW9kdWxlcyk7XHJcbiAgICAgICAgICAgIG9wdGlvbnMucnVsZXMgJiYgKHRoaXMucnVsZXMgPSBvcHRpb25zLnJ1bGVzKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEluaXRPYmoucHJvdG90eXBlLmluaXRTZWFyY2hPYmogPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoSXRlbSA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnNlYXJjaFZhbHVlcyA9IHt9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgSW5pdE9iai5wcm90b3R5cGUuaW5pdFRhYmxlT2JqID0gZnVuY3Rpb24gKHRhYmxlQnRuKSB7XHJcbiAgICAgICAgICAgIGlmICh0YWJsZUJ0biA9PT0gdm9pZCAwKSB7IHRhYmxlQnRuID0gWydlZGl0JywgJ2RlbGV0ZSddOyB9XHJcbiAgICAgICAgICAgIHRoaXMuYWxsRGF0YSA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnRhYmxlSXRlbSA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnRhYmxlTG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuaXNFZGl0ID0gMDtcclxuICAgICAgICAgICAgLy8gdGhpcy50YWJsZUJ0biA9IFtdXHJcbiAgICAgICAgICAgIHRoaXMudGFibGVQYWdlcyA9IHsgdG90YWw6IDAsIGN1cnJlbnQ6IDEsIHBhZ2VTaXplOiAyMCB9O1xyXG4gICAgICAgICAgICB0aGlzLmNob29zZURhdGFBcnIgPSBbXTtcclxuICAgICAgICAgICAgLy8gdGhpcy5zZXRCdG4odGFibGVCdG4sICd0YWJsZUJ0bicpXHJcbiAgICAgICAgfTtcclxuICAgICAgICBJbml0T2JqLnByb3RvdHlwZS5pbml0RGlhbG9nT2JqID0gZnVuY3Rpb24gKGRpYWxvZ0J0bikge1xyXG4gICAgICAgICAgICBpZiAoZGlhbG9nQnRuID09PSB2b2lkIDApIHsgZGlhbG9nQnRuID0gWydjYW5jZWwnLCAnY29uZmlybSddOyB9XHJcbiAgICAgICAgICAgIHRoaXMuZWRpdERhdGEgPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9ICcnO1xyXG4gICAgICAgICAgICB0aGlzLmRpYWxvZ0l0ZW0gPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5kaWFsb2dCdG4gPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5zaG93RGlhbG9nRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnJ1bGVzID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QnRuKGRpYWxvZ0J0biwgJ2RpYWxvZ0J0bicpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgSW5pdE9iai5wcm90b3R5cGUuc2V0QnRuID0gZnVuY3Rpb24gKGNvbmZpZywgdHlwZSkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgdXNlckJ0bkxpc3QgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2J0bkxpc3QnKSk7XHJcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShjb25maWcpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfkvKDlj4Llv4XpobvkuLrmlbDnu4QnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgYmFzaWNDb25maWcgPSBkZWZhdWx0RGlhbG9nQnRuO1xyXG4gICAgICAgICAgICBjb25maWcuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWJhc2ljQ29uZmlnW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlxcdThCRjdcXHU3ODZFXFx1OEJBNFwiICsgdHlwZSArIFwiXFx1NjYyRlxcdTU0MjZcXHU5MTREXFx1N0Y2RVxcdTRFODZcIiArIGtleSArIFwiXFx1NUM1RVxcdTYwMjdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXNbdHlwZV0ucHVzaChiYXNpY0NvbmZpZ1trZXldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyciA9IE9iamVjdC5lbnRyaWVzKGtleSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyclsxXS5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+aVsOe7hOmHjOeahOWvueixoeeahHZhbHVl5YC85b+F6aG75Li65a+56LGhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbmZpZ18xID0gT2JqZWN0LmFzc2lnbih7fSwgYmFzaWNDb25maWdbYXJyWzBdXSwgYXJyWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlnXzEuY29kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJyWzFdLnNob3cgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnXzEuc2hvdyA9IF90aGlzLmF1dGhCdG4oY29uZmlnXzEuY29kZSwgdXNlckJ0bkxpc3QsICdzaG93Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnXzEubmFtZSA9IF90aGlzLmF1dGhCdG4oY29uZmlnXzEuY29kZSwgdXNlckJ0bkxpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfdGhpc1t0eXBlXS5wdXNoKGNvbmZpZ18xKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+aVsOe7hOmHjOeahOaVsOaNruW/hemhu+aYr+Wtl+espuS4suaIluWvueixoScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEluaXRPYmoucHJvdG90eXBlLmluaXRJdGVtID0gZnVuY3Rpb24gKGl0ZW1zLCBtb2R1bGVzKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBiYXNpY0NvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgIHNlYXJjaDogeyBsYWJlbDogJycsIGtleTogJycsIHR5cGU6ICdpbnB1dCcsIHBsYWNlaG9sZGVyOiAnJywgc2hvdzogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdGFibGU6IHsgbGFiZWw6ICcnLCBwcm9wOiAnJywgdHlwZTogJ2NlbGwnLCB3aWR0aDogODAgfSxcclxuICAgICAgICAgICAgICAgIGRpYWxvZzogeyBsYWJlbDogJycsIGtleTogJycsIHR5cGU6ICd0ZXh0Jywgc2hvdzogdHJ1ZSB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBsaXN0ZW5lcnMgPSBbJ2NsaWNrJywgJ2NoYW5nZScsICdpbnB1dCcsICdmb2N1cycsICdibHVyJ107XHJcbiAgICAgICAgICAgIHZhciBleHRlcm5hbEtleXMgPSBbJ2tleScsICdzaG93JywgJ3R5cGUnLCAnbGFiZWwnLCAnb3B0aW9ucyddO1xyXG4gICAgICAgICAgICB2YXIgcGxhY2Vob2xkZXJMaXN0ID0gWydpbnB1dCcsICdudW1iZXInLCAncGFzc3dvcmQnLCAndGV4dGFyZWEnXTtcclxuICAgICAgICAgICAgbW9kdWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChtb2R1bGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb25maWdPYmogPSBpdGVtc1ttb2R1bGVdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhjb25maWdPYmopO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gY29uZmlnT2JqW2tleV0gPSBPYmplY3QuYXNzaWduKHt9LCBiYXNpY0NvbmZpZ1ttb2R1bGVdLCBjb25maWdPYmpba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZHVsZSA9PT0gJ3RhYmxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAnYnRuJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnR5cGUgPSAnYnRuJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFvYmoubGFiZWwgJiYgKG9iai5sYWJlbCA9ICfmk43kvZwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFvYmouZml4ZWQgJiYgKG9iai5maXhlZCA9ICdyaWdodCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ3NlbGVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai50eXBlID0gJ3NlbGVjdGlvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoud2lkdGggPSA1MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5wcm9wID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kdWxlID09PSAnc2VhcmNoJyAmJiBjb25maWdPYmpba2V5XS5rZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5rZXkgPSBjb25maWdPYmpba2V5XS5rZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoua2V5ID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcmVmaXggPSBwbGFjZWhvbGRlckxpc3QuaW5jbHVkZXMob2JqLnR5cGUpID8gJ+ivt+i+k+WFpScgOiAn6K+36YCJ5oupJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnBsYWNlaG9sZGVyID0gXCJcIiArIHByZWZpeCArIG9iai5sYWJlbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZHVsZSA9PT0gJ3NlYXJjaCcgfHwgbW9kdWxlID09PSAnZGlhbG9nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wXzEgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZXJuYWxLZXlzLmZvckVhY2goZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW3N0cl0gIT09IHVuZGVmaW5lZCAmJiAodG1wXzFbc3RyXSA9IG9ialtzdHJdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmpbc3RyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXBTdHJzXzEgPSBPYmplY3Qua2V5cyhvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG1wU3Ryc18xLmluY2x1ZGVzKHN0cikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBfMVsnJG9uJ10gPyB0bXBfMVsnJG9uJ11bc3RyXSA9IG9ialtzdHJdIDogdG1wXzFbJyRvbiddID0gKF9hID0ge30sIF9hW3N0cl0gPSBvYmpbc3RyXSwgX2EpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmpbc3RyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKG9iaikgJiYgKHRtcF8xWyckYXR0ciddID0gb2JqKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gdG1wXzE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIF90aGlzW21vZHVsZSArIFwiSXRlbVwiXSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyDooajmoLzmlbDmja7ovazmjaJcclxuICAgICAgICBJbml0T2JqLnByb3RvdHlwZS5mb3JtbWF0ZXIgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmNvbnN0cnVjdG9yID09PSBBcnJheSAmJiAhKE51bWJlcih2YWwpID09PSAwIHx8IE51bWJlcih2YWwpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcign5b2TY29uZmln5Li6QXJyYXnml7bvvIx2YWzlv4XpobvkuLpOdW1iZXInKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb25maWdbdmFsXTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIOagueaNrmJ0bkNvZGXojrflj5bmjInpkq7mnYPpmZDlkozlkI3lrZdcclxuICAgICAgICBJbml0T2JqLnByb3RvdHlwZS5hdXRoQnRuID0gZnVuY3Rpb24gKGJ0bkNvZGUsIHVzZXJCdG5MaXN0LCB0eXBlKSB7XHJcbiAgICAgICAgICAgIC8vIGxldCB1c2VyQnRuTGlzdDogeyBidG5Db2RlOiBzdHJpbmcsIGJ0bk5hbWU6IHN0cmluZyB9W10gPSBbXVxyXG4gICAgICAgICAgICAvLyB1c2VyQnRuTGlzdC5sZW5ndGggPT09IDAgJiYgKHVzZXJCdG5MaXN0ID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdidG5MaXN0JykpKVxyXG4gICAgICAgICAgICBpZiAoIXVzZXJCdG5MaXN0KSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2J0buadg+mZkOmcgOimgeWtmOWCqOWcqHNlc3Npb25TdG9yYWdlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaWYgKHdpbmRvdy5idG5MaXN0KSB7IC8vIOWIt+aWsOmhtemdoueahHdpbmRvdy5idG5MaXN05L+d5a2Y55qE5piv5pyA5paw55qE5oyJ6ZKu5p2D6ZmQXHJcbiAgICAgICAgICAgIC8vICAgdGhpcy51c2VyQnRuTGlzdCA9IHdpbmRvdy5idG5MaXN0XHJcbiAgICAgICAgICAgIC8vICAgd2luZG93LmJ0bkxpc3QgPSB1bmRlZmluZWRcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICB2YXIgb2JqID0gdXNlckJ0bkxpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS5idG5Db2RlID09PSBidG5Db2RlOyB9KTtcclxuICAgICAgICAgICAgaWYgKG9iaikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmouYnRuTmFtZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIEluaXRPYmo7XHJcbiAgICB9KCkpO1xyXG4gICAgcmV0dXJuIEluaXRPYmo7XHJcbn07XHJcbmV4cG9ydCBkZWZhdWx0IGhhbmRsZUJhc2ljT2JqO1xyXG4iLCJpbXBvcnQgaGFuZGxlQmFzaWNPYmogZnJvbSAnLi9iYXNpY09iai50cydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGhhbmRsZUJhc2ljT2JqIl0sIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQy9MQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")}])}));